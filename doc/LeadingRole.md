# 系统架构

## 1.整体功能架构（上层依赖于下层，下层作用于上层）

战斗、采集、经营、提升游戏

### 1.实际表现：

​			战斗的强弱

​			生产的快慢，品质

### 2.战斗属性，生产属性，势力面板

战斗时，根据一些随机波动值（伤势，战斗地形，功法，灵气浓度等等）生成战斗属性面板

生产时，根据一些随机波动值（装备，灵气浓度，技能等级等等）生成生产属性面板

### 3.静态面板

静态情况下，战斗属性应该是多少

​						生产属性应该是多少

### 4.静态功能

静态面板有一系列静态功能组成，各个静态功能体系之间应该存在弱依赖性，但是静态功能之间有优先级，在具体代码执行的过程中，各个静态功能会按照优先级进行先后顺序排序，

在这里互相没有依赖的各项功能，能够**多线程优化代码**

静态功能有

​		1.人物等级等阶等相关功能

​		2.装备等相关功能

​		2.相关的知识类，被动类相关功能

​		3.功法，法决等相关功能，可能依赖于相关知识类

​		其他功能





2.影响架构







# 人物面板信息

# 1.人物属性信息
## 基本信息：

姓名

年龄

出生时间：

剩余寿元

移动速度：

修为境界：

御器速度：





## 战斗信息：

### 一级属性

武器攻击强度：



术法攻击强度：



灵气值：

生命值：

神识值：

神识强度：

攻击速度：



### 二级属性

武器攻击加成

术法攻击加成

神识攻击加成



护盾强度加成

身体强度加成

神识防御加成



灵气回复速度



受伤程度：战斗前伤势固定，然后战斗时可能会添加伤势，当生命值改变的时候发生变化

伤势列表：显示当前所有伤势

### 三类属性（后期再加）



### 其他属性

当前术法列表

​		常用列表，槽位有限，需要配置，比较直观

​		所有列表，列表显示已经学会的所有战斗相关术法，战斗可以随时取用，提供搜索，提供记忆功能，记录最近使用的术法但不在常用术法列表的术法		

当前消耗品列表

​		常用列表，槽位有限，需要配置，比较直观

​		所有列表，显示背包内所有消耗品列表，战斗可以随时取用，提供搜索

当前抗性列表（进入战斗时将所有药物丹毒初始化到Map中）

​		战斗时使用丹药或者灵石，都会产生临时抗药性，需要时间炼化，每种药物抗药性不定，抗药性会降低使用效果

当前Buff列表

​		当前战斗强化Buff列表

​		当前战斗削弱Buff列表







## 装备栏
    目前装备有：战斗用主要攻击法器，战斗用辅助法器
            防御用法袍等恒定防御
            防御主动法器
            储物法器
            历练飞行法器
            辅助法器（根据辅助法器的分类类型，每种只能生效一个）

## 功法栏



## 技艺栏

称号列表

当前称号



# 2.战斗面板

角色基本属性，

​	姓名

年龄

出生时间：

剩余寿元

移动速度：

修为境界：

御器速度：

### 

武器攻击强度：

术法攻击强度：

灵气值：

生命值：

神识值：

神识强度：

攻击速度：



武器攻击加成

术法攻击加成

神识攻击加成



护盾强度加成

身体强度加成

神识防御加成



灵气回复速度





当前术法列表

​		常用列表，槽位有限，需要配置，比较直观

​		所有列表，列表显示已经学会的所有战斗相关术法，战斗可以随时取用，提供搜索，提供记忆功能，记录最近使用的术法但不在常用术法列表的术法		

当前消耗品列表

​		常用列表，槽位有限，需要配置，比较直观

​		所有列表，显示背包内所有消耗品列表，战斗可以随时取用，提供搜索

当前抗性列表（进入战斗时将所有药物丹毒初始化到Map中）

​		战斗时使用丹药或者灵石，都会产生临时抗药性，需要时间炼化，每种药物抗药性不定，抗药性会降低使用效果

当前Buff列表

​		当前战斗强化Buff列表

​		当前战斗削弱Buff列表







## 生成的属性：
## 基本属性：
    温度
        最低舒适温度
        最高舒适温度
        最低极限温度
        最高极限温度

## 修炼属性：

| 修炼资质   | 上限 | 仙   | 天   | 地   | 玄   | 黄   |
| ---------- | ---- | ---- | ---- | ---- | ---- | ---- |
| 最低临界值 | 5000 | 1000 | 500  | 200  | 100  | 1    |

| 境界名 | 总经验  | 境界分层 | 各层次经验                                                   |
| ------ | ------- | -------- | ------------------------------------------------------------ |
| 练气期 | 4500    | 9层      | [250.0, 250.0, 250.0, 500.0, 500.0, 500.0, 750.0, 750.0, 750.0] |
| 筑基期 | 36000   | 3        | [6000.0, 12000.0, 18000.0]                                   |
| 金丹期 | 120000  | 3        | [20000.0, 40000.0, 60000.0]                                  |
| 元婴期 | 480000  | 3        | [80000.0, 160000.0, 240000.0]                                |
| 化神期 | 7500000 | 3        | [1250000.0, 2500000.0, 3750000.0]                            |



## 生产属性：

## 战斗属性：

养成线：

| 大类 | 细分类   | 次数 | 种类 | 养成策略 | 属性成长策略 |
| ---- | -------- | ---- | ---- | -------- | ------------ |
| 角色 | 角色升级 | 60   | 1    | 成长式   | 线性成长     |
|      | 角色修炼 | 50   | 12   | 成长式   | 线性成长     |
|      | 角色技能 | 60   | 50   | 成长式   | 线性成长     |
| 装备 | 装备基础 | /    | 9    | 收集式   | 边际效应递减 |
|      | 装备宝石 | 10   | 18   | 成长式   | 边际效应递减 |
|      | 装备熔炼 | 无限 | 64   | 随机式   | 边际效应递减 |
| 宠物 | 宠物基础 | /    | 30   | 收集式   | 边际效应递增 |
|      | 宠物装备 | /    | 5    | 混合式   | 边际效应递减 |

**成长式**：玩家对游戏的具体模块进行养成，每次养成提升固定的属性值

**收集式**：玩家通过对游戏内容的收集而获得属性效益，**如果这些内容不能被继续养成**

**混合式**：玩家通过对游戏内容的收集而获得属性效益，如果这些内容能够被继续养成

**随机式**：养成属性随机获得，玩家根据自身需求或爱好选择属性



```
养成线数值 = 属性投放 * 具体细分类养成线
```



## 战斗难度

玩家生命周期越长越简单，怪物生命周期越短，越简单

| 难度级别 | 玩家生存周期 | 怪物生存周期 | 怪物攻击系数 | 怪物防御系数 | 怪物生命系数 |
| -------- | ------------ | ------------ | ------------ | ------------ | ------------ |
| 简单     | 15           | 3            | 50%          | 50%          | 40%          |
| 普通     | 12           | 6            | 65%          | 80%          | 70%          |
| 困难     | 10           | 10           | 80%          | 100%         | 100%         |
| 极难     | 8            | 15           | 100%         | 100%         | 150%         |



## 其他属性：

# 3.背包系统-物品系统

## 1、物品设计

修仙世界里面的一些物品

物品主要分类

| 物品主类型 | 副类型1  | 副类型2  | 副类型3                        | 副类型...                                 |
| ---------- | -------- | -------- | ------------------------------ | ----------------------------------------- |
| 材料       | 药草     | 矿石     | 兽骨                           | 兽皮，妖血，植物木头等，种子,鱼卵，符纸， |
| 装备       | 攻击     | 防御     | 辅助（符笔，辅助阵盘，丹炉，） | 其他                                      |
| 知识功法等 | 主修功法 | 辅修功法 | 法决（学技能）                 | 法宝图纸等，修仙杂谈，灵药鉴赏等          |
| 召唤物     | 灵兽     | 灵虫     | 僵尸                           | 鬼魂，傀儡等                              |
| 可服用类   | 丹药     | 灵酒     | 灵厨制作的灵性食物             | 灵茶等                                    |
| 可使用类   | 符箓     | 阵法     |                                |                                           |
| 其他       |          |          |                                |                                           |
|            |          |          |                                |                                           |
|            |          |          |                                |                                           |

当前id（相对于当前这个实体）

name

​		itemTemplate

​		id

​		名称

​		主类型

​		副类型

​		是否可堆叠

​		堆叠上限

​		描述

​		基础品阶

​		是否有耐久度

​		最大耐久度

​		是否可修复

​		耐久度消耗方式：时间，战斗，操作使用	

​		单个物品的价值参考

当前数量

品阶

当前耐久度，最大耐久度

价值





## 2、背包设计

背包通过统计身上的储物设备来对外提供统一的服务

### 1.分类过滤查找功能

背包内的物品会被分为多种不同的类型物品等，便于玩家查找使用，也就是一个主类型，在加上一些副类型

具有不同的排序功能，按名称，等阶，等等



